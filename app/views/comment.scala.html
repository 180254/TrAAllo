@(card: Card, hasEditRights: Boolean)

@if(hasEditRights) {
    @helper.form(action = controllers.boards.routes.CommentController.add,
        'class -> "modal-add-comment",
        'method -> "post", 'enctype -> "multipart/form-data") {

        <input type="hidden" name="cardId" value="@card.id"/>

        <div class="input-field">
            <label for="commentText">@Messages("card.modal.comments.writeComment")</label>
            <input name="commentText" id="commentText" type="text" autofocus="autofocus"/>
            <button class=" waves-effect waves-green btn-flat" type="submit" name="action">
                @Messages("card.modal.comments.submit")
            </button>
        </div>
    }
}

<h6 class ="card-modal-sector">@Messages("card.modal.comments.header")</h6>
<hr/>

<ul class="js-comments">
@for( comment <- card.comments.sortWith((x, y) => (x.dateTime.isAfter(y.dateTime)))) {
    <li data-id="@comment.id" class="card-modal-comment js-comment">
        @comment.text <br/>
        @comment.author &nbsp;&nbsp;&nbsp; @comment.getFormattedDateTime
        &nbsp;&nbsp;&nbsp;
        <a class="delete-comment" href="" onclick="deleteComment(this, @card.id,@comment.id); return false;">Delete</a>
    </li>
}
</ul>
